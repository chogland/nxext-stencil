import { Meta, Story, Canvas } from '@storybook/addon-docs';

<Meta title="Components/Form Elements/Validators/Overview" />

# Validators: Overview

This page is a guide to the form validations available to RDS components.

The initial validation occurs on the `onBlur` event; i.e. when the component loses focus. If the component is in an invalid state, it will validate while input occurs so the user is immedietely aware when the conditions are met.

**It is important to note that client side validators do not remove the need for validation on the server side. Invalid form submissions can still be sent by non-compliant browsers (i.e., browsers without HTML5 and without JavaScript) or by those trying to trick your web application. Therefore, you need to also validate input constraints on the server side in a way that is consistent with the validations set on the client side.**

## Constraint Validators

Constraint validators that are built-in to HTML5 can validate a form element's content on the client side. Because these are built-in to HTML5, they do not rely on Javascript, making them an easy way to add front-end validation to your components.

RDS has implemented constraint validators for the `min`, `max`, `minlength`, `maxlength`, `required`, `type='email'`, `type='url'` and `pattern` properties. Below you can find more details on each validation.

RDS **does not** validate a form component by its constarint validators by default. In order to validate your components with any of the above properties set, you must pass the `validate` property to your component.

For more information on the Contraint Validation API, please visit the [MDN Web Docs for Constraint Validation](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Constraint_validation).

### Min

The `min` validator validates an `Input` component with `type='number'` or `type='range'`. The value must be greater than or equal to the value.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--min"></Story>
</Canvas>

### Max

The `max` validator validates an `Input` component with `type='number'` or `type='range'`. The value must be less than or equal to the value.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--max"></Story>
</Canvas>

### Minlength

The `minlength` validator validates an `Input` component with `type='text'`, `type='search'`, `type='url'`, `type='tel'`, `type='email'` and `type='password'`. It also validates on the `Textarea` component. When the element is not empty, the element's number of characters must not be less than the value passed.

#### Input

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--minlength"></Story>
</Canvas>

#### Textarea

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-textarea--minlength"></Story>
</Canvas>

### Maxlength

The `maxlength` validator validates an `Input` component with `type='text'`, `type='search'`, `type='url'`, `type='tel'`, `type='email'` and `type='password'`. It also validates on the `Textarea` component. When the element is not empty, the number of text entered automatically renders and limits the text to the provided max-length.

#### Input

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--maxlength"></Story>
</Canvas>

#### Textarea

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-textarea--maxlength"></Story>
</Canvas>

### Required

The `required` validator validates an `Input` component with `type='text'`, `type='search'`, `type='url'`, `type='tel'`, `type='email'`, `type='password'`, `type='number'` and `type='file'`. It also validates on the `Select` and `Textarea` components. If set, there must be a value to pass validation.

#### Input

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--required"></Story>
</Canvas>

#### Native Select

<Canvas withSource="auto">
  <Story height="150px" id="components-form-elements-validators-stories-constraint-validators-select--native-required"></Story>
</Canvas>

#### Custom Select

<Canvas withSource="auto">
  <Story height="260px" id="components-form-elements-validators-stories-constraint-validators-select--custom-required"></Story>
</Canvas>

#### Textarea

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-textarea--required"></Story>
</Canvas>

#### Checkbox

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-checkbox--default-required"></Story>
</Canvas>

#### Checkbox Group

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-checkbox-group--description-list-required"></Story>
</Canvas>

#### Radio Button Group

Radio buttons cannot be individually validated. Include radio buttons within a group and include a submit button in order to validate an unchecked, required radio button group.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-radio-button-group--description-list-required"></Story>
</Canvas>

### Email

An `Input` with `type='email'` will be validated. The value must be a syntactically valid email address, which generally has the format `name@hostname.com`.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--email"></Story>
</Canvas>

### URL

An `Input` with `type='url'` will be validated. The value must be a syntactically valid URL.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--url"></Story>
</Canvas>

### Pattern

An `Input` with `type='text'`, `type='search'`, `type='url'`, `type='tel'`, `type='email'` and `type='password'` will be validated against a regex pattern that is passed. The value must match the pattern.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-constraint-validators-input--pattern"></Story>
</Canvas>

## Custom Validators

RDS has implemented a `Validator` utility that allows for the creation of more complex validations that do not fit into the definition of the Constraint Validation API.

The custom validators are defined by the `validator` property. You **do not** need to pass the `validate` property for a custom validation to run.

The `validator` property accepts a string so that the contents can be parsed properly in all instances; i.e. in an HTML page as an attribute or a React environment as a prop. See how this is done in the code example below.

Custom Validators are only available to the `RdsInput` component at this time.

### Length

The length custom validator can check the length of an input's value for `type='number'`, i.e. input types that do not support the `maxlength` attribute. You may also use the length custom validator in place of the maxlength constraint validator for inputs that do support maxlength.

The length custom validator has options for min and max values. It validates against three options: both min and max values, just a min value, or just a max value.

<Canvas withSource="auto">
  <Story id="components-form-elements-validators-stories-custom-validators-input--length"></Story>
</Canvas>

## Request a Custom Validator

RDS uses Information Technology Service Management (ITSM) for all support requests. Please send validation requests through our support channel, and provide all relevant information.

<rds-button href="mailto:ITSMRDSSupport@fmglobal.com?subject=RDS%20Custom%20Validator%20Request">Request a Custom Validator</rds-button>
